{"version":3,"names":["onBeforeUnmount","onMounted","watch","shallowEqualObjects","useUppy","installPlugin","plugin","uppy","props","removePlugin","value","current","old","setOptions"],"sources":["useUppy.ts"],"sourcesContent":["import { onBeforeUnmount, onMounted, watch, type Ref } from 'vue'\nimport { shallowEqualObjects } from 'shallow-equal'\nimport type { UnknownPlugin, Uppy } from '@uppy/core'\n\nexport default function useUppy<P extends UnknownPlugin<any, any>>(\n  installPlugin: () => void,\n  plugin: Ref<P | undefined>,\n  uppy: Uppy<any, any>,\n  props: Ref<Record<string, unknown> | undefined>,\n): void {\n  onMounted(() => {\n    installPlugin()\n  })\n\n  onBeforeUnmount(() => {\n    uppy.removePlugin(plugin.value!)\n  })\n\n  watch(\n    () => props.value,\n    (current, old) => {\n      if (!shallowEqualObjects(current, old)) {\n        plugin.value!.setOptions({ ...current })\n      }\n    },\n  )\n}\n"],"mappings":"AAAA,SAASA,eAAe,EAAEC,SAAS,EAAEC,KAAK,QAAkB,KAAK;AACjE,SAASC,mBAAmB,QAAQ,eAAe;AAGnD,eAAe,SAASC,OAAOA,CAC7BC,aAAyB,EACzBC,MAA0B,EAC1BC,IAAoB,EACpBC,KAA+C,EACzC;EACNP,SAAS,CAAC,MAAM;IACdI,aAAa,CAAC,CAAC;EACjB,CAAC,CAAC;EAEFL,eAAe,CAAC,MAAM;IACpBO,IAAI,CAACE,YAAY,CAACH,MAAM,CAACI,KAAM,CAAC;EAClC,CAAC,CAAC;EAEFR,KAAK,CACH,MAAMM,KAAK,CAACE,KAAK,EACjB,CAACC,OAAO,EAAEC,GAAG,KAAK;IAChB,IAAI,CAACT,mBAAmB,CAACQ,OAAO,EAAEC,GAAG,CAAC,EAAE;MACtCN,MAAM,CAACI,KAAK,CAAEG,UAAU,CAAC;QAAE,GAAGF;MAAQ,CAAC,CAAC;IAC1C;EACF,CACF,CAAC;AACH","ignoreList":[]}